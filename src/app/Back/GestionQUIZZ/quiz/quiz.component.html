<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div
  id="main-wrapper"
  data-theme="light"
  data-layout="vertical"
  data-navbarbg="skin6"
  data-sidebartype="full"
  data-sidebar-position="fixed"
  data-header-position="fixed"
  data-boxed-layout="full"
>
  <!-- ============================================================== -->
  <!-- Topbar header - style you can find in pages.scss -->
  <!-- ============================================================== -->
  <app-nav></app-nav>
  <!-- ============================================================== -->
  <!-- End Topbar header -->
  <!-- ============================================================== -->
  <!-- ============================================================== -->
  <!-- Left Sidebar - style you can find in sidebar.scss  -->
  <!-- ============================================================== -->
  <app-side-bar></app-side-bar>

  <!-- Main content area -->
  <div class="page-wrapper"style="display: block">
    <h2>{{ quizId ? 'Edit Quiz' : 'Create Quiz' }}</h2>

    <form [formGroup]="quizForm" (ngSubmit)="onSubmit()">
      <!-- Title Field -->
      <div class="form-group">
        <label for="title">Title</label>
        <input id="title" formControlName="title" class="form-control" required placeholder="Enter quiz title" />
        <div *ngIf="quizForm.get('title')?.invalid && quizForm.get('title')?.touched" class="text-danger">
          Title is required.
        </div>
      </div>

      <!-- Image File Upload Field -->
      <div class="form-group">
        <label for="image">Upload Image</label>
        <input id="image" type="file" (change)="onFileSelected($event)" class="form-control" />
        
        <!-- Show selected file name -->
        <div *ngIf="selectedFile">
          Selected file: {{ selectedFile.name }}
        </div>

        <!-- Show existing image when editing or preview of selected file -->
        <div *ngIf="imageUrl">
          <p>Current Image:</p>
          <img [src]="imageUrl" alt="Quiz Image" width="200" height="150">
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary" [disabled]="quizForm.invalid">
        {{ quizId ? 'Update' : 'Create' }} Quiz
      </button>
    </form>

    <!-- Display All Quizzes -->
   <!-- Display All Quizzes -->
   <h3>All Quizzes</h3>
   <div class="quiz-list">
     <div *ngFor="let quiz of quizzes" class="quiz-item">
       <h4>{{ quiz.title }}</h4>
   
       <!-- Display quiz image if available -->
       <div *ngIf="quiz.image">
         <img [src]="'data:image/jpeg;base64,' + quiz.image" alt="Quiz Image" width="150" height="100" />
       </div>
   
       <!-- Action buttons -->
       <div class="button-group mt-2">
         <!-- Button to edit quiz title/image -->
         <button class="btn btn-outline-primary btn-sm me-2" (click)="loadQuizForEdit(quiz)">Edit Quiz</button>
   
         <!-- Button to navigate to questions for editing -->
         <button class="btn btn-outline-dark btn-sm me-2" (click)="navigateToQuestions(quiz.id)">Edit Questions</button>


   
         <!-- Delete Quiz -->
         <button class="btn btn-outline-danger btn-sm" (click)="deleteQuiz(quiz.id)">Delete</button>
       </div>
     </div>
   </div>
   


